/* ========================================
   TABLE ALIGNMENT FIX - ULTIMATE FINAL SOLUTION
   This file MUST be loaded LAST (after all other CSS)
   Fixes header and content row misalignment completely
   ======================================== */

/* CRITICAL: Force table layout with maximum specificity */
html body table.table,
html body .table,
body table.table,
body .table,
table.table,
.table {
  table-layout: fixed !important;
  width: 100% !important;
  border-collapse: separate !important;
  border-spacing: 0 !important;
  empty-cells: show !important;
  /* CRITICAL: Don't hide overflow on table itself */
  overflow: visible !important;
}

/* CRITICAL: Ensure ALL cells are visible, properly sized, and aligned */
/* This is the KEY fix - force display: table-cell on ALL cells */
html body table.table thead th,
html body table.table tbody td,
html body .table thead th,
html body .table tbody td,
body table.table thead th,
body table.table tbody td,
body .table thead th,
body .table tbody td,
table.table thead th,
table.table tbody td,
.table thead th,
.table tbody td {
  /* CRITICAL: Force display as table-cell - THIS IS THE KEY FIX */
  display: table-cell !important;
  visibility: visible !important;
  opacity: 1 !important;
  
  /* Box model */
  box-sizing: border-box !important;
  padding: 12px !important;
  line-height: 1.5 !important;
  vertical-align: middle !important;
  
  /* Overflow handling - only hide horizontal overflow, allow vertical */
  overflow-x: hidden !important;
  overflow-y: visible !important;
  word-wrap: break-word !important;
  word-break: break-word !important;
  overflow-wrap: break-word !important;
  
  /* Positioning - ensure no transforms or positioning that could shift content */
  position: static !important;
  transform: none !important;
  left: auto !important;
  right: auto !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
  
  /* Width handling - let inline styles take precedence */
  min-width: 0 !important;
}

/* CRITICAL: Respect inline width styles - these have highest priority */
html body table.table thead th[style*="width"],
html body table.table tbody td[style*="width"],
body table.table thead th[style*="width"],
body table.table tbody td[style*="width"],
table.table thead th[style*="width"],
table.table tbody td[style*="width"] {
  /* Inline styles will override width, just ensure other properties */
  box-sizing: border-box !important;
  display: table-cell !important;
  visibility: visible !important;
  opacity: 1 !important;
  /* CRITICAL: Don't override width from inline styles */
}

/* CRITICAL: First column (#) - ensure it's always visible and has proper width */
html body table.table thead th:first-child,
html body table.table tbody td:first-child,
body table.table thead th:first-child,
body table.table tbody td:first-child,
table.table thead th:first-child,
table.table tbody td:first-child,
.table thead th:first-child,
.table tbody td:first-child {
  display: table-cell !important;
  visibility: visible !important;
  opacity: 1 !important;
  text-align: center !important;
  white-space: nowrap !important;
  overflow-x: visible !important;
  overflow-y: visible !important;
  box-sizing: border-box !important;
  /* Don't force width if inline style specifies it */
}

/* If first column has inline width, respect it */
html body table.table thead th:first-child[style*="width"],
html body table.table tbody td:first-child[style*="width"],
body table.table thead th:first-child[style*="width"],
body table.table tbody td:first-child[style*="width"],
table.table thead th:first-child[style*="width"],
table.table tbody td:first-child[style*="width"] {
  /* Respect inline width but ensure visibility */
  display: table-cell !important;
  visibility: visible !important;
  opacity: 1 !important;
  box-sizing: border-box !important;
}

/* CRITICAL: Ensure table rows don't break */
html body table.table thead tr,
html body table.table tbody tr,
body table.table thead tr,
body table.table tbody tr,
table.table thead tr,
table.table tbody tr,
.table thead tr,
.table tbody tr {
  display: table-row !important;
}

/* Prevent nested content from breaking layout */
html body table.table thead th > *,
html body table.table tbody td > *,
body table.table thead th > *,
body table.table tbody td > *,
table.table thead th > *,
table.table tbody td > *,
.table thead th > *,
.table tbody td > * {
  max-width: 100% !important;
  box-sizing: border-box !important;
}

/* Ensure divs wrap properly */
html body table.table tbody td div,
body table.table tbody td div,
table.table tbody td div,
.table tbody td div {
  word-wrap: break-word !important;
  overflow-wrap: break-word !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
}

/* Badge and button alignment */
html body table.table tbody td .badge,
body table.table tbody td .badge,
table.table tbody td .badge,
.table tbody td .badge {
  display: inline-block !important;
  vertical-align: middle !important;
  white-space: nowrap !important;
  max-width: 100% !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  box-sizing: border-box !important;
}

html body table.table tbody td .btn,
body table.table tbody td .btn,
table.table tbody td .btn,
.table tbody td .btn {
  vertical-align: middle !important;
  display: inline-flex !important;
  align-items: center !important;
  white-space: nowrap !important;
  flex-shrink: 0 !important;
  box-sizing: border-box !important;
}

/* Ensure text content wraps properly */
html body table.table tbody td strong,
html body table.table tbody td small,
body table.table tbody td strong,
body table.table tbody td small,
table.table tbody td strong,
table.table tbody td small,
.table tbody td strong,
.table tbody td small {
  display: block !important;
  word-wrap: break-word !important;
  overflow-wrap: break-word !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
}

/* Ensure table-responsive doesn't break alignment */
.table-responsive {
  overflow-x: auto !important;
  -webkit-overflow-scrolling: touch !important;
  width: 100% !important;
}

.table-responsive table {
  margin-bottom: 0 !important;
  width: 100% !important;
}

/* CRITICAL: Force colgroup to work with table-layout: fixed */
/* Don't override colgroup widths - let inline styles work */
html body table.table colgroup col,
body table.table colgroup col,
table.table colgroup col {
  /* Let inline styles in colgroup work - don't override */
  width: auto !important;
}

/* CRITICAL: Override any rules that might hide table cells */
html body table.table thead th,
html body table.table tbody td,
body table.table thead th,
body table.table tbody td,
table.table thead th,
table.table tbody td {
  /* Ensure no rules can hide these */
  display: table-cell !important;
  visibility: visible !important;
  opacity: 1 !important;
  width: auto !important; /* Let inline styles or colgroup handle width */
}

/* But if inline style specifies width, respect it */
html body table.table thead th[style*="width"],
html body table.table tbody td[style*="width"],
body table.table thead th[style*="width"],
body table.table tbody td[style*="width"],
table.table thead th[style*="width"],
table.table tbody td[style*="width"] {
  display: table-cell !important;
  visibility: visible !important;
  opacity: 1 !important;
  /* Width comes from inline style - don't override */
}
